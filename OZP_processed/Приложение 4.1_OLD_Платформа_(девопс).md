# Лист: OLD Платформа (девопс)

| Задачи DevOps                                                                       | Описание                                                                                                                                                                                                                                                        | Контекст положительный                                                                                                                 | Трудоемкость, чел/час             | Контекст негативный                                                                                                                                      | Трудоемкость, чел/час.1                   | Кто может собрать инфу     | У кого стоит запрашивать   | Что спросить                                                      |   В каком артефакте нужна информация |
|:------------------------------------------------------------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:---------------------------------------------------------------------------------------------------------------------------------------|:----------------------------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------|:------------------------------------------|:---------------------------|:---------------------------|:------------------------------------------------------------------|-------------------------------------:|
| Поставка (Передача) ПО                                                              | Подготовка playbook, подготовка ссылки для передачи, сверка лицензий (настройка S/N, имитация ключа и тд.), подготовка (корректировка) документации. Не включает в себя развертывание рабочей конфигурации. Достаточно только для решения юридического аспекта. | Наличие образов поставляемого ПО, документации к ПО.                                                                                   | 16                                | Наличие образов поставляемого ПО, неполная документации к ПО.                                                                                            | 40                                        | nan                        | nan                        | nan                                                               |                                  nan |
| Подготовка проекта в GitLab                                                         | Сбор необходимых манифестов и скриптов развертывания в проектном проекте GitLab                                                                                                                                                                                 | Наличие эталонного проекта с подключенными сабмодулями и темплейтами, наличие списка развертываемых сервисов                           | 2                                 | Отстствие эталонного проекта в GitLab. Отсутсвие списка требуемых сервисов                                                                               | 8                                         | nan                        | IT отдел                   | https://jira.zyfra.com/wiki/pages/viewpage.action?pageId=65832747 |                                  nan |
| Адаптация настроек под проект                                                       | Подготовленный к развертыванию  zifctl (авторазвертывание)                                                                                                                                                                                                      | Наличие данных об окружении заказчика (доменное имя для портала, CA сертификаты, сервис аккаунт и тд ) Наличие сайзинга развертывания. | 4                                 | Отсутствует информация из положительного контекста                                                                                                       | 16                                        | nan                        | nan                        | nan                                                               |                                  nan |
| Установка/Настройка репозитория rpm-пакетов                                         | Утановка на ландшафте локального репозитория, перенос туда всех необходимых пакетов                                                                                                                                                                             | Имется доступ в интернет                                                                                                               | 0-1                               | Отсутствует свой репозиторий и доступ в интернет, взависимости  от скорости  канала до ландшафта время может быть увеличено                              | 4-16                                      | nan                        | nan                        | nan                                                               |                                  nan |
| Подготовка архитектуры (ландшафта)                                                  | Установка ОС, настройка виртуальной машины.                                                                                                                                                                                                                     | Наличие примонтированного образа ОС. Наличие готовых VM. Выделенная сеть, готовая сетевая архитектура.                                 | 2                                 | Отсутсвие примонтированного образа ОС. Отсутсвие качественного канала связи для передачи образа.                                                         | 16                                        | nan                        | nan                        | nan                                                               |                                  nan |
|                                                                                     |                                                                                                                                                                                                                                                                 |                                                                                                                                        |                                   |                                                                                                                                                          |                                           |                            |                            |                                                                   |                                      |
| Метрики: 1 ВМ                                                                       |                                                                                                                                                                                                                                                                 |                                                                                                                                        |                                   |                                                                                                                                                          |                                           |                            |                            |                                                                   |                                      |
| Развертывание кластера kubernetes (k8s)                                             | Настройка кластера k8s (мастер + ноды + registry)                                                                                                                                                                                                               | Наличие рабочего и полного (рабочего) playbook, готов ландшафт                                                                         | 4                                 | Отсутсвие рабочего и полного (рабочего) playbook, не готов ландшафт. Ошибки в процессе развертывания.                                                    | 16                                        | nan                        | nan                        | nan                                                               |                                  nan |
| Метрики: 1 мастер                                                                   |                                                                                                                                                                                                                                                                 |                                                                                                                                        |                                   |                                                                                                                                                          |                                           |                            |                            |                                                                   |                                      |
| Развертывание кластера k8s  (3 мастера и более)                                     | Настройка кластера k8s (мастер + ноды + registry),                                                                                                                                                                                                              | Наличие рабочего и полного (рабочего) playbook, готов ландшафт                                                                         | 8                                 | Отсутсвие рабочего и полного (рабочего) playbook, не готов ландшафт. Ошибки в процессе развертывания.                                                    | 24                                        | nan                        | nan                        | nan                                                               |                                  nan |
| Настройка кассандры, РТДБ                                                           | Поднятие кластера кассандры                                                                                                                                                                                                                                     | Наличие на полигоне RPM-пакетов, наличие конфигурации в playbook                                                                       | 2                                 | Остутсвие на полигоне RPM-пакетов, и отсутсвие конфигурации в playbook. Ошибки в процессе развертывания.                                                 | 16                                        | nan                        | nan                        | nan                                                               |                                  nan |
| Настройка 1 сервера PostgreSQL (Stand alone)                                        | Установка и базовая настройка сервера                                                                                                                                                                                                                           | Наличие на полигоне RPM-пакетов, наличие конфигурации в playbook                                                                       | 1                                 | Остутсвие на полигоне RPM-пакетов, и отсутсвие конфигурации в playbook                                                                                   | 2                                         | nan                        | nan                        | nan                                                               |                                  nan |
| Настройка кластера Postgres (+Stolon)                                               | Настройка оркестратора Stolon                                                                                                                                                                                                                                   | Наличие на полигоне RPM-пакетов, наличие конфигурации в playbook                                                                       | 2                                 | Остутсвие на полигоне RPM-пакетов, и отсутсвие конфигурации в playbook                                                                                   | 8                                         | nan                        | nan                        | nan                                                               |                                  nan |
| Настройка локального regestry docker-образов                                        | Настрйока локального репозиторя для хранения образов                                                                                                                                                                                                            | У заказчика есть свой реджестри и есть возможность настроить на нем кэш-прокси                                                         | 1                                 | У заказчика отсутствует regestry или у заказчика есть свой regestry, но подлючение нашего нексуса к нему запрещено.                                      | 16                                        | nan                        | nan                        | nan                                                               |                                  nan |
| Установка платформы ZIIoT средствами авторазвертывания                              | Запуск системы аторазвертывания(zifctl) в контуре заказчика                                                                                                                                                                                                     | Имеется вся информация требуемая для запуска zifctl, окружение настроенно.                                                             | 2                                 | При запуске возникли проблемы из-за нюансов окружения.                                                                                                   | 8                                         | nan                        | nan                        | nan                                                               |                                  nan |
| Развертывание сервисов потоковых рассчетов (не входит в поставку авторазвертывания) | Развертывание Spark                                                                                                                                                                                                                                             | Имеется актуальный набор манифестов/шаблонов или группа helm-чартов                                                                    | 2                                 | Отсутствует актуальный набор манифестов/шаблонов или группа helm-чартов                                                                                  | 16                                        | nan                        | nan                        | nan                                                               |                                  nan |
| Сооздание баз и ролей в Postgres для сервисов развертываемых не авторазвертыванием  | Создание баз для сервисов в Postgres на ландшафте заказчика                                                                                                                                                                                                     | При наличии скрипта создания баз и ролей                                                                                               | 1                                 | При создании баз и ролей в ручную                                                                                                                        | 4                                         | nan                        | nan                        | nan                                                               |                                  nan |
| Подготовка манифестов/шаблонов для развертывания ZQL                                | Правка манифестов и сохраниние их в проект GitLab                                                                                                                                                                                                               | Имеется актуальный набор манифестов/шаблонов или группа helm-чартов                                                                    | 4                                 | Отсутствует актуальный набор манифестов/шаблонов или группа helm-чартов                                                                                  | 48                                        | nan                        | nan                        | nan                                                               |                                  nan |
| Развертывание ZQL                                                                   | Применение манифестов/шаблонов на ландшавте заказчика                                                                                                                                                                                                           | Все манифесты применились без ошибок                                                                                                   | 2                                 | При  появлении проблем при развертывании сервисов, отсутствие конфигурации в платформе                                                                   | 16                                        | nan                        | nan                        | nan                                                               |                                  nan |
| Подготовка helm-чартов для развертывания MEB                                        | Правка helm-чартов и сохраниние их в проект GitLab                                                                                                                                                                                                              | Имеется актуальный набор  helm-чартов                                                                                                  | 4                                 | Отсутствует актуальный набор  helm-чартов                                                                                                                | 48                                        | nan                        | nan                        | nan                                                               |                                  nan |
| Развертывание MEB                                                                   | Применение манифестов/шаблонов на ландшавте заказчика                                                                                                                                                                                                           | Все манифесты применились без ошибок                                                                                                   | 2                                 | При  появлении проблем при развертывании сервисов, отсутствие конфигурации в платформе                                                                   | 24                                        | nan                        | nan                        | nan                                                               |                                  nan |
| Подготовка манифестов/шаблонов для развертывания ZIAK                               | Правка манифестов и сохраниние их в проект GitLab                                                                                                                                                                                                               | Имеется актуальный набор манифестов/шаблонов или группа helm-чартов, bpmn-процессы, конфигурации.                                      | 16                                | Отсутствует актуальный набор манифестов/шаблонов или группа helm-чартов                                                                                  | 64                                        | nan                        | nan                        | nan                                                               |                                  nan |
| Развертывание ZIAK                                                                  | Применение манифестов/шаблонов на ландшавте заказчика                                                                                                                                                                                                           | Все манифесты применились без ошибок, сконфигурированны все зависомости в платформе                                                    | 24                                | При  появлении проблем при развертывании сервисов, отсутствие конфигурации в платформе                                                                   | 80                                        | nan                        | nan                        | nan                                                               |                                  nan |
| Развертывание сервисов мониторинга.                                                 | Установка сбора метрик  в Prometeus, настрйока Grafana, загруска дефолтных дашбордов                                                                                                                                                                            | Наличие манифестов и конфигов для развертывания. Наличие всех необходимых пакетов и образов.                                           | 8                                 | Отсутствие чего-то из положительного контекста. Особености ландшафта заказчика                                                                           | 32                                        | nan                        | nan                        | nan                                                               |                                  nan |
| Развертывание сервисов логирования                                                  | Установка или подключение к уже существующей системе логирования (EFK)                                                                                                                                                                                          | Наличие манифестов и конфигов для развертывания. Наличие всех необходимых пакетов и образов.                                           | 8                                 | Отсутствие чего-то из положительного контекста. Особености ландшафта заказчика                                                                           | 32                                        | nan                        | nan                        | nan                                                               |                                  nan |
| Развертывание сервисов трассировки                                                  | Установка сервисов или подключение к уже существующей системе трассировки (Jaeger, elasticsearch)                                                                                                                                                               | Наличие манифестов и конфигов для развертывания. Наличие всех необходимых пакетов и образов.                                           | 8                                 | Отсутствие чего-то из положительного контекста. Особености ландшафта заказчика                                                                           | 32                                        | nan                        | nan                        | nan                                                               |                                  nan |
| Интеграция кейклок с AD по протоколу LDAP                                           | Базовая настройка                                                                                                                                                                                                                                               | Настроенный active directory. Наличие сервисной учетной записи и данных на подключение.                                                | 4(без учета времени ожидании AD)  | nan                                                                                                                                                      | 16 (без учета времени ожидании AD)        | Является работой внедрения | nan                        | nan                                                               |                                  nan |
| Интеграция кейклок с AD по протоколу ADFS                                           | Базовая настройка                                                                                                                                                                                                                                               | Настроенный active directory. Наличие сервисной учетной записи и данных на подключение.                                                | 16(без учета времени ожидании AD) | nan                                                                                                                                                      | 40 (без учета времени ожидании AD)        | nan                        | nan                        | nan                                                               |                                  nan |
| Настройка коллектора NiFi                                                           | Настройка коллектора NiFi                                                                                                                                                                                                                                       | Есть готовый template и данные для подключения источника                                                                               | 1                                 | Отсутствие готового template и данных для подключения источника (критично)                                                                               | 40 (зависит от сложности сборки)          | nan                        | nan                        | nan                                                               |                                  nan |
| Настройка расчетов SPARK                                                            | Настройка расчетов SPARK                                                                                                                                                                                                                                        | Есть библиотеки расчет (после теста) и есть описания переменных расчета. Установлены все зависимые сервисы                             | 1                                 | Есть библиотеки расчет (после теста) и есть описания переменных расчета. Не установлены все зависимые сервисы. Некорректная (несовместимая) версия spark | 16                                        | nan                        | nan                        | nan                                                               |                                  nan |
| Настройка расчетов DAPR                                                             | Настройка расчетов DAPR                                                                                                                                                                                                                                         | Есть сконфигурированная ОМ. Установлены все зависимые сервисы                                                                          | 8                                 | ОМ не сконфигурирована / требует правки. Не установлены все зависимые сервисы. Некорректная (несовместимая) версия DAPR                                  | 24                                        | nan                        | nan                        | nan                                                               |                                  nan |
| Настройка коллектора MiNiFi + Zyfra Gateway                                         | Настройка коллектора NiFi                                                                                                                                                                                                                                       | Есть готовый template и данные для подключения источника                                                                               | 4                                 | Отсутствие готового template и данных для подключения источника (критично)                                                                               | 40 (зависит от сложности сборки)          | nan                        | nan                        | nan                                                               |                                  nan |
| Настройка коллектора Zyfra OPC Interface + DCOM                                     | Настройка коллектора Zyfra OPC Interface + DCOM                                                                                                                                                                                                                 | Есть сетевая доступность источника со шлюзовой машины, если поддержка от IT/АСУТП Заказчика                                            | 2                                 | Не оперативная поддержка от IT/АСУТП Заказчика                                                                                                           | 32(зависит от скорости ответов заказчика) | nan                        | nan                        | nan                                                               |                                  nan |
| Перенос полигона на PROD                                                            | Перенос полигона на PROD                                                                                                                                                                                                                                        | Перенос конфигурации (на потоке), наличие CI/CD, отсутствие задач переноса и слияния данных сервисов                                   | 1                                 | Первичный перенос полигона на другой ландшафт, CI/CD не готово                                                                                           | 40                                        | nan                        | nan                        | nan                                                               |                                  nan |
| Поддержание полигона PROD                                                           | Поддержание полигона PROD                                                                                                                                                                                                                                       | Отработка заявок внедрения, полигон в рабочем состоянии под нагрузкой <70%                                                             | 4 в неделю                        | Отсутсвие опыта внедрения и документации, полигон в рабочем состоянии под нагрузкой >70%                                                                 | 8 часов в неделю                          | nan                        | nan                        | nan                                                               |                                  nan |
| Настройка непрерывной поставки                                                      | Пока нет оценки                                                                                                                                                                                                                                                 | nan                                                                                                                                    | nan                               | nan                                                                                                                                                      | nan                                       | nan                        | nan                        | nan                                                               |                                  nan |
| Настройка распределенного хранилища                                                 | На все хранилища                                                                                                                                                                                                                                                | nan                                                                                                                                    | 16                                | nan                                                                                                                                                      | 40                                        | nan                        | nan                        | nan                                                               |                                  nan |
| Настройка балансировки                                                              | nan                                                                                                                                                                                                                                                             | nan                                                                                                                                    | nan                               | nan                                                                                                                                                      | nan                                       | nan                        | nan                        | nan                                                               |                                  nan |
| Настройка масштабирования                                                           | nan                                                                                                                                                                                                                                                             | nan                                                                                                                                    | nan                               | nan                                                                                                                                                      | nan                                       | nan                        | nan                        | nan                                                               |                                  nan |